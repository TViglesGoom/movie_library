(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/fLT":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){var r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n        "+e.escapeExpression(e.lambda(null!=t?r(t,"name"):t,t))+",\r\n      "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r,o,l=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\r\n<div class="details">\r\n  <div class="details-picture">\r\n    <img class="details-picture-poster" src=" https://image.tmdb.org/t/p/w500/'+s(l(null!=t?d(t,"poster_path"):t,t))+'" alt="'+s(l(null!=t?d(t,"title"):t,t))+'">\r\n  </div>\r\n  <div class="details-info">\r\n    <h1 class="details-info-title">'+s(l(null!=t?d(t,"title"):t,t))+'</h1>\r\n    <ul class="details-info-specification">\r\n      <li class="specification-line"><span class="genre">vote/votes</span><span>'+s("function"==typeof(o=null!=(o=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:u)?o.call(c,{name:"vote_average",hash:{},data:i,loc:{start:{line:9,column:80},end:{line:9,column:96}}}):o)+"/"+s("function"==typeof(o=null!=(o=d(n,"vote_count")||(null!=t?d(t,"vote_count"):t))?o:u)?o.call(c,{name:"vote_count",hash:{},data:i,loc:{start:{line:9,column:97},end:{line:9,column:111}}}):o)+'</span></li>\r\n      <li class="specification-line"><span class="genre">popularity</span><span>'+s(l(null!=t?d(t,"popularity"):t,t))+'</span></li>\r\n      <li class="specification-line"><span class="genre">original title</span><span>'+s(l(null!=t?d(t,"original_title"):t,t))+'</span></li>\r\n      <li class="specification-line"><span class="genre">genre</span> <span>'+(null!=(r=d(n,"each").call(c,null!=t?d(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:12,column:76},end:{line:14,column:15}}}))?r:"")+'</span>\r\n    </ul>\r\n    <h2 class="details-info-title">About</h2>\r\n    <p>'+s(l(null!=t?d(t,"overview"):t,t))+'</p>\r\n    <div class="details-info-links">\r\n      <button href="" id="watched-btn"><img src="" alt="">Add to watched</button>\r\n      <button href="" id="queue-btn"><img src="" alt="">Add to queue</button></div>\r\n  </div>\r\n</div>\r\n'},useData:!0})},"0GIF":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r=e.lambda,o=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="container">\r\n  <div class="watched-container">\r\n    <button class="btn watched-btn list-type-button" data-type="'+o(r(null!=t?l(t,"watched"):t,t))+'">Watched</button>\r\n    <button class="btn queue-btn list-type-button" data-type="'+o(r(null!=t?l(t,"queue"):t,t))+'">Queue</button>\r\n  </div>\r\n  <ul id="movies">\r\n  </ul>\r\n  <div id="pug-div"></div>\r\n</div>\r\n'},useData:!0})},FH9n:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){return'<div class="container">\r\n  <div>\r\n  <input type="text" id="movie-input"/></div>\r\n  <ul id="movies">\r\n  </ul>\r\n  <div class="pug-container">\r\n    <button class="pug-btn" id="prev-btn">&lt</button>\r\n    <div id="pug-div"></div>\r\n    <button class="pug-btn" id="next-btn">&gt</button>\r\n  </div>\r\n</div>\r\n'},useData:!0})},L1EO:function(e,t,n){},Le6H:function(e,t,n){},OGYB:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,i){var r=e.lambda,o=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="movie" data-id="'+o(r(null!=t?l(t,"id"):t,t))+'">\r\n    <div class="poster_home"\r\n         style="background-image: url(\'https://image.tmdb.org/t/p/w400/'+o(r(null!=t?l(t,"backdrop_path"):t,t))+"'),\r\n                 url('https://image.tmdb.org/t/p/w400/"+o(r(null!=t?l(t,"poster_path"):t,t))+"'),\r\n                 url('https://cdn1.vectorstock.com/i/1000x1000/44/05/oops-404-error-page-not-found-vector-18634405.jpg');\r\n                 background-size: 100%;\">\r\n      <h3 class=\"movie-text\">"+o(r(null!=t?l(t,"title"):t,t))+"("+o(r(null!=t?l(t,"release_date"):t,t))+")</h3>\r\n    </div>\r\n  </li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var r,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"results"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?r:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("lYjL"),n("FWxf"),n("RtS0"),n("4owi"),n("/YXa"),n("fp7Y"),n("JBxO"),n("Muwe"),n("WoWj"),n("y89P"),n("X5mX"),n("MTDe"),n("3dw1"),n("U00V"),n("9DLp"),n("L1EO"),n("Le6H"),n("FdtR");var a=function(e,t){return fetch("https://api.themoviedb.org/3/search/movie?api_key="+f.apiKey+"&query="+e.replace(" ","+")+"&page="+t).then((function(e){return e.json()}))};function i(e){e.target.classList.contains("pug-btn")&&(location.hash=location.hash.replace(/page=\d+/,"page="+e.target.dataset.page))}var r=n("OGYB"),o=n.n(r),l=n("FH9n"),s=n.n(l),c=n("/fLT"),u=n.n(c),d=n("0GIF"),p=n.n(d),h=n("jffb"),m={main:document.querySelector("main"),apiKey:"a44fa9b82760a2bc65fcbc5bfbd17e96",movie:"movie",search:"search",library:"library",watched:"watched",queue:"queue"},f=t.default=m;function v(e,t){var n=document.getElementById(e+"-btn"),a=localStorage.getItem(e);a=a?JSON.parse(a):[],"false"===n.dataset.flag?(a.push(t),localStorage.setItem(e,JSON.stringify(a)),n.dataset.flag="true"):"true"===n.dataset.flag&&(localStorage.setItem(e,JSON.stringify(a.filter((function(e){return e.id!==t.id})))),n.dataset.flag="false"),g(n,e)}function g(e,t){"false"===e.dataset.flag?e.textContent="Add to "+t:"true"===e.dataset.flag&&(e.textContent="Remove from "+t)}function b(){var e;m.main.classList.add("mainLine"),(e=location.hash.replace("#movie?id=",""),fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=a44fa9b82760a2bc65fcbc5bfbd17e96").then((function(e){return e.json()}))).then((function(e){m.main.innerHTML=u()(e);var t=document.getElementById(m.watched+"-btn"),n=JSON.parse(localStorage.getItem(m.watched));t.dataset.flag=String(Boolean(n)&&-1!==n.findIndex((function(t){return t.id===e.id}))),g(t,m.watched),t.addEventListener("click",(function(){return v(m.watched,e)}));var a=document.getElementById(m.queue+"-btn");a.dataset.flag=String(Boolean(localStorage.getItem(m.queue))),n=JSON.parse(localStorage.getItem(m.queue)),a.dataset.flag=String(Boolean(n)&&-1!==n.findIndex((function(t){return t.id===e.id}))),g(a,m.queue),a.addEventListener("click",(function(){return v(m.queue,e)}))}))}function y(){if(m.main.classList.remove("mainLine"),location.hash.startsWith("#"+m.search)){var e;if(!m.main.querySelector("#movie-input")){m.main.innerHTML=s()(),document.querySelector("#movie-input").addEventListener("input",h((function(e){location.hash="#search?request="+e.target.value.replace(" ","+")+"&page=1"}),400)),(e=document.querySelector("#movies")).addEventListener("click",(function(e){e.target.closest(".movie")&&(location.hash="#movie?id="+e.target.closest(".movie").dataset.id)}))}if(location.hash!=="#"+m.search){e||(e=document.querySelector("#movies"));var t=new URLSearchParams(location.hash.replace("#"+m.search,"")),n=Number(t.get("page"));a(t.get("request"),n).then((function(t){e.innerHTML=o()(t),function(e,t){var n="",a=document.querySelector("#pug-div");n+='<button class="pug-btn" data-page="1">1</button>',t=Math.max(2,t),(t=Math.min(e-2,t))>2&&(n+="<span>...</span>");for(var r=e>2?0:2===e?1:2,o=0;o<2-r;o++)n+='<button class="pug-btn" data-page="'+(t+o)+'">'+(t+o)+"</button>";t<e-2&&(n+="<span>...</span>"),t<e&&e>3&&(n+='<button class="pug-btn" data-page="'+e+'">'+e+"</button>"),a.innerHTML=n,a.addEventListener("click",i)}(t.total_pages,n);var a=document.getElementById("prev-btn"),r=document.getElementById("next-btn");a.dataset.listened||(a.addEventListener("click",h((function(){var e=new URLSearchParams(location.hash.replace("#"+m.search,"")),t=Number(e.get("page"));t>1&&(location.hash=location.hash.replace(/page=\d+/,"page="+(t-1)))}),50)),a.dataset.listened="true"),r.dataset.listened||(r.addEventListener("click",h((function(){var e=new URLSearchParams(location.hash.replace("#"+m.search,"")),n=Number(e.get("page"));n<t.total_pages&&(location.hash=location.hash.replace(/page=\d+/,"page="+Math.min(n+1)))}),50)),r.dataset.listened="true")}))}}else if(location.hash.startsWith("#"+m.movie))b();else if(location.hash.startsWith("#"+m.library)){location.hash==="#"+m.library&&(location.hash="#library?active=watched");var r=new URLSearchParams(location.hash.replace("#"+m.library,""));m.main.innerHTML=p()(m);var l={results:localStorage.getItem(r.get("active"))};if(l.results){l.results=JSON.parse(l.results);var c=document.getElementById("movies");c.innerHTML=o()(l),c.addEventListener("click",(function(e){e.target.closest(".movie")&&(location.hash="#movie?id="+e.target.closest(".movie").dataset.id)}))}Array.from(document.querySelectorAll(".list-type-button")).forEach((function(e){return e.addEventListener("click",(function(){location.hash=location.hash.replace(/active=[a-zA-Z]+/,"active="+e.dataset.type)}))}))}else location.hash="#"+m.search}window.addEventListener("popstate",(function(){y()})),y()}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.128ac31a26c9876b88e4.js.map