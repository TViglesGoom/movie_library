{"version":3,"sources":["webpack:///./templates/cardtempl.hbs","webpack:///./templates/library.hbs","webpack:///./templates/allFilms.hbs","webpack:///./templates/movies.hbs","webpack:///./apiMovies.js","webpack:///./createPugNav.js","webpack:///./index.js","webpack:///./addFilmDetails.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","alias2","alias3","nullContext","alias4","hooks","helperMissing","program","noop","searchQuery","page","fetch","baseUrl","refs","apiKey","replace","then","json","handleClick","e","target","classList","contains","location","hash","dataset","debounce","require","main","document","querySelector","movie","search","library","watched","queue","addToList","listType","btn","getElementById","list","localStorage","getItem","JSON","parse","flag","push","setItem","stringify","filter","el","id","changeButtonText","textContent","renderMoviePage","add","res","innerHTML","cardTemplate","addToWatchedButton","loc","String","Boolean","findIndex","addEventListener","addToQueueButton","popstateChange","remove","startsWith","moviesList","templateAllFilms","value","closest","params","URLSearchParams","Number","get","movies","templateMovies","number","current","pugNav","Math","max","min","temp","i","createPugNav","total_pages","prevBtn","nextBtn","listened","templateLibrary","obj","results","Array","from","querySelectorAll","forEach","type","window"],"mappings":"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","file":"main.128ac31a26c9876b88e4.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n        \"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \",\\r\\n      \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<div class=\\\"details\\\">\\r\\n  <div class=\\\"details-picture\\\">\\r\\n    <img class=\\\"details-picture-poster\\\" src=\\\" https://image.tmdb.org/t/p/w500/\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\\">\\r\\n  </div>\\r\\n  <div class=\\\"details-info\\\">\\r\\n    <h1 class=\\\"details-info-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h1>\\r\\n    <ul class=\\\"details-info-specification\\\">\\r\\n      <li class=\\\"specification-line\\\"><span class=\\\"genre\\\">vote/votes</span><span>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":80},\"end\":{\"line\":9,\"column\":96}}}) : helper)))\n    + \"/\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":97},\"end\":{\"line\":9,\"column\":111}}}) : helper)))\n    + \"</span></li>\\r\\n      <li class=\\\"specification-line\\\"><span class=\\\"genre\\\">popularity</span><span>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0), depth0))\n    + \"</span></li>\\r\\n      <li class=\\\"specification-line\\\"><span class=\\\"genre\\\">original title</span><span>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0), depth0))\n    + \"</span></li>\\r\\n      <li class=\\\"specification-line\\\"><span class=\\\"genre\\\">genre</span> <span>\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":76},\"end\":{\"line\":14,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"</span>\\r\\n    </ul>\\r\\n    <h2 class=\\\"details-info-title\\\">About</h2>\\r\\n    <p>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"overview\") : depth0), depth0))\n    + \"</p>\\r\\n    <div class=\\\"details-info-links\\\">\\r\\n      <button href=\\\"\\\" id=\\\"watched-btn\\\"><img src=\\\"\\\" alt=\\\"\\\">Add to watched</button>\\r\\n      <button href=\\\"\\\" id=\\\"queue-btn\\\"><img src=\\\"\\\" alt=\\\"\\\">Add to queue</button></div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"watched-container\\\">\\r\\n    <button class=\\\"btn watched-btn list-type-button\\\" data-type=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"watched\") : depth0), depth0))\n    + \"\\\">Watched</button>\\r\\n    <button class=\\\"btn queue-btn list-type-button\\\" data-type=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"queue\") : depth0), depth0))\n    + \"\\\">Queue</button>\\r\\n  </div>\\r\\n  <ul id=\\\"movies\\\">\\r\\n  </ul>\\r\\n  <div id=\\\"pug-div\\\"></div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container\\\">\\r\\n  <div>\\r\\n  <input type=\\\"text\\\" id=\\\"movie-input\\\"/></div>\\r\\n  <ul id=\\\"movies\\\">\\r\\n  </ul>\\r\\n  <div class=\\\"pug-container\\\">\\r\\n    <button class=\\\"pug-btn\\\" id=\\\"prev-btn\\\">&lt</button>\\r\\n    <div id=\\\"pug-div\\\"></div>\\r\\n    <button class=\\\"pug-btn\\\" id=\\\"next-btn\\\">&gt</button>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <li class=\\\"movie\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n    <div class=\\\"poster_home\\\"\\r\\n         style=\\\"background-image: url('https://image.tmdb.org/t/p/w400/\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0), depth0))\n    + \"'),\\r\\n                 url('https://image.tmdb.org/t/p/w400/\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"'),\\r\\n                 url('https://cdn1.vectorstock.com/i/1000x1000/44/05/oops-404-error-page-not-found-vector-18634405.jpg');\\r\\n                 background-size: 100%;\\\">\\r\\n      <h3 class=\\\"movie-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"(\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0), depth0))\n    + \")</h3>\\r\\n    </div>\\r\\n  </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"results\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":11,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import refs from \"./index\";\r\n\r\n\r\nconst baseUrl = 'https://api.themoviedb.org/3/search/movie';\r\nexport default {\r\n  fetchMovies(searchQuery, page) {\r\n    return fetch(`${baseUrl}?api_key=${refs.apiKey}&query=${searchQuery.replace(\" \", \"+\")}&page=${page}`)\r\n      .then(data => data.json());\r\n  },\r\n};\r\n","export default function (number, current) {\r\n  let res = '';\r\n  let pugNav = document.querySelector(\"#pug-div\");\r\n  res += `<button class=\"pug-btn\" data-page=\"${1}\">${1}</button>`;\r\n  current = Math.max(2, current);\r\n  current = Math.min(number - 2, current);\r\n  if (current > 2) {\r\n    res += \"<span>...</span>\"\r\n  }\r\n  let temp = number > 2 ? 0 : (number === 2 ? 1 : 2);\r\n  for (let i = 0; i < 2 - temp; i++) {\r\n    res += `<button class=\"pug-btn\" data-page=\"${current + i}\">${current + i}</button>`;\r\n  }\r\n  if (current < number - 2) {\r\n    res += \"<span>...</span>\"\r\n  }\r\n  if (current < number && number > 3) {\r\n    res += `<button class=\"pug-btn\" data-page=\"${number}\">${number}</button>`\r\n  }\r\n  pugNav.innerHTML = res;\r\n  pugNav.addEventListener(\"click\", handleClick);\r\n}\r\n\r\nfunction handleClick(e) {\r\n  if (e.target.classList.contains(\"pug-btn\"))\r\n    location.hash = location.hash.replace(/page=\\d+/, `page=${e.target.dataset.page}`);\r\n}\r\n","import './styles.css';\r\nimport './movie.css';\r\nimport movies from './apiMovies';\r\nimport createPugNav from './createPugNav';\r\nimport templateMovies from './templates/movies.hbs';\r\nimport templateAllFilms from './templates/allFilms.hbs';\r\nimport addFilmDetails from './addFilmDetails';\r\nimport cardTemplate from './templates/cardtempl.hbs';\r\nimport templateLibrary from './templates/library.hbs';\r\n// require('@fontawersome/fontawersome-free/js/all');\r\nconst debounce = require('lodash.debounce');\r\n\r\nconst refs = {\r\n  main: document.querySelector('main'),\r\n  apiKey: 'a44fa9b82760a2bc65fcbc5bfbd17e96',\r\n  movie: 'movie',\r\n  search: 'search',\r\n  library: 'library',\r\n  watched: 'watched',\r\n  queue: 'queue',\r\n};\r\n\r\nexport default refs;\r\n\r\nfunction addToList(listType, movie) {\r\n  let btn = document.getElementById(listType + '-btn');\r\n  let list = localStorage.getItem(listType);\r\n  if (list) list = JSON.parse(list);\r\n  else list = [];\r\n  if (btn.dataset.flag === \"false\") {\r\n    list.push(movie);\r\n    localStorage.setItem(listType, JSON.stringify(list));\r\n    btn.dataset.flag = \"true\";\r\n  } else if (btn.dataset.flag === \"true\") {\r\n    localStorage.setItem(listType, JSON.stringify(list.filter(el => el.id !== movie.id)));\r\n    btn.dataset.flag = \"false\";\r\n  }\r\n  changeButtonText(btn, listType);\r\n}\r\n\r\nfunction changeButtonText(btn, listType) {\r\n  if (btn.dataset.flag === \"false\") btn.textContent = `Add to ${listType}`;\r\n  else if (btn.dataset.flag === \"true\") btn.textContent = `Remove from ${listType}`;\r\n}\r\n\r\nfunction renderMoviePage() {\r\n  refs.main.classList.add('mainLine');\r\n  addFilmDetails().then(movie => {\r\n    refs.main.innerHTML = cardTemplate(movie);\r\n    let addToWatchedButton = document.getElementById(refs.watched + \"-btn\");\r\n    let loc = JSON.parse(localStorage.getItem(refs.watched));\r\n    addToWatchedButton.dataset.flag = String(Boolean(loc) && (loc.findIndex(el => el.id === movie.id) !== -1));\r\n    changeButtonText(addToWatchedButton, refs.watched);\r\n    addToWatchedButton.addEventListener(\"click\", () => addToList(refs.watched, movie));\r\n    let addToQueueButton = document.getElementById(refs.queue + \"-btn\");\r\n    addToQueueButton.dataset.flag = String(Boolean(localStorage.getItem(refs.queue)));\r\n    loc = JSON.parse(localStorage.getItem(refs.queue));\r\n    addToQueueButton.dataset.flag = String(Boolean(loc) && (loc.findIndex(el => el.id === movie.id) !== -1));\r\n    changeButtonText(addToQueueButton, refs.queue);\r\n    addToQueueButton.addEventListener(\"click\", () => addToList(refs.queue, movie));\r\n  });\r\n}\r\n\r\nfunction popstateChange() {\r\n  refs.main.classList.remove(\"mainLine\");\r\n  if (location.hash.startsWith(\"#\" + refs.search)) {\r\n    let moviesList;\r\n    if (!refs.main.querySelector(\"#movie-input\")) {\r\n      refs.main.innerHTML = templateAllFilms();\r\n      function inputHandler(e) {\r\n        location.hash = `#search?request=${e.target.value.replace(\" \", \"+\")}&page=1`;\r\n      }\r\n      document.querySelector(\"#movie-input\").addEventListener('input', debounce(inputHandler, 400));\r\n      moviesList = document.querySelector(\"#movies\");\r\n      moviesList.addEventListener(\"click\", e => {\r\n        if (e.target.closest(\".movie\"))\r\n          location.hash = `#movie?id=${e.target.closest(\".movie\").dataset.id}`\r\n      });\r\n    }\r\n    if (location.hash !== \"#\" + refs.search) {\r\n      if (!moviesList) moviesList = document.querySelector(\"#movies\");\r\n      let params = new URLSearchParams(location.hash.replace(\"#\" + refs.search, \"\"));\r\n      let page = Number(params.get(\"page\"));\r\n      movies.fetchMovies(params.get(\"request\"), page).then(data => {\r\n        moviesList.innerHTML = templateMovies(data);\r\n        createPugNav(data.total_pages, page);\r\n        let prevBtn = document.getElementById(\"prev-btn\");\r\n        let nextBtn = document.getElementById(\"next-btn\");\r\n        if (!prevBtn.dataset.listened) {\r\n          prevBtn.addEventListener(\"click\", debounce(() => {\r\n            let params = new URLSearchParams(location.hash.replace(\"#\" + refs.search, \"\"));\r\n            let page = Number(params.get(\"page\"));\r\n            if (page > 1)\r\n              location.hash = location.hash.replace(/page=\\d+/, `page=${page - 1}`);\r\n          }, 50));\r\n          prevBtn.dataset.listened = \"true\";\r\n        }\r\n\r\n        if (!nextBtn.dataset.listened) {\r\n          nextBtn.addEventListener(\"click\", debounce(() => {\r\n            let params = new URLSearchParams(location.hash.replace(\"#\" + refs.search, \"\"));\r\n            let page = Number(params.get(\"page\"));\r\n            if (page < data.total_pages)\r\n              location.hash = location.hash.replace(/page=\\d+/, `page=${Math.min(page + 1)}`);\r\n          }, 50));\r\n          nextBtn.dataset.listened = \"true\";\r\n        }\r\n      });\r\n    }\r\n  } else if (location.hash.startsWith(\"#\" + refs.movie)) {\r\n    renderMoviePage();\r\n  } else if (location.hash.startsWith(\"#\" + refs.library)) {\r\n    if (location.hash === \"#\" + refs.library) location.hash = \"#library?active=watched\";\r\n    let params = new URLSearchParams(location.hash.replace(\"#\" + refs.library, \"\"));\r\n    refs.main.innerHTML = templateLibrary(refs);\r\n    let obj = {\r\n      results: localStorage.getItem(params.get(\"active\")),\r\n    };\r\n    if (obj.results) {\r\n      obj.results = JSON.parse(obj.results);\r\n      let moviesList = document.getElementById(\"movies\");\r\n      moviesList.innerHTML = templateMovies(obj);\r\n      moviesList.addEventListener(\"click\", e => {\r\n        if (e.target.closest(\".movie\"))\r\n          location.hash = `#movie?id=${e.target.closest(\".movie\").dataset.id}`\r\n      });\r\n    }\r\n    Array.from(document.querySelectorAll(\".list-type-button\")).forEach(el => el.addEventListener(\"click\", () => {\r\n      location.hash = location.hash.replace(/active=[a-zA-Z]+/, `active=${el.dataset.type}`);\r\n    }));\r\n  }\r\n  else location.hash = \"#\" + refs.search;\r\n}\r\n\r\nwindow.addEventListener(\"popstate\", () => {\r\n  popstateChange();\r\n});\r\n\r\npopstateChange();\r\n\r\n","export default function () {\r\n  const id = location.hash.replace('#movie?id=', '');\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/movie/${id}?api_key=a44fa9b82760a2bc65fcbc5bfbd17e96`,\r\n  )\r\n    .then(res => res.json());\r\n}\r\n"],"sourceRoot":""}